<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {% block titulo %}
        {% endblock titulo %}
        <!--Bootstrap CSS-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <!--Javascript-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.3.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <!--Dise√±o propio-->
        <link rel="stylesheet" type="text/css" href="{% static  'core/css/estilo.css'%}">
        {% block disenos %}
        {% endblock disenos %}
    </head>

    <body>
        
        <div class="container-fluid barraSuperior">
            <div class="row">
                <a href="{% url 'mostrarIndex' %}">College Choice Helper</a>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row contenidoTotal">
                {% if rol == None %}
                <div class="col-md-3 columnaNoCuenta" >
                    <ul>
                        <li><a href="{% url 'mostrarLogin' %}">Iniciar sesi√≥n</a></li>
                        <li><a href="{% url 'mostrarRegistro'%}">Registrarme</a></li>
                    </ul>
                </div>
                {% endif %}
                {% if rol != None %}
                <div class="col-md-1 columnaCuenta">
                        <ul>
                            {% if rol == 2 %}
                                <li><a href="{% url 'mostrarVerPeticiones'%}">Ver peticiones</a></li>
                            {% endif %}
                            {% if rol == 0 or rol == 1 %}
                                <li><a href="{% url 'mostrarHacerpeticion'%}">Hacer una petici√≥n</a></li>
                            {% endif %}
                            <li><a href="{% url 'mostrarGestionCuenta' %}">Gestionar cuenta</a></li>
                            <li><a href="{% url 'cierreSesion'%}">Cerrar sesi√≥n</a></li>
                        </ul>
                </div>
                <div class="col-md-2 columnaNav">
                    <ul>
                        <!--Estudiante-->
                        {% if rol == 0 %}
                            <li><a href="{% url 'mostrarFormularioEstudiante'%}">Formulario</a></li>
                            <li><a href="{% url 'mostrarRecomendaciones'%}">Recomendaciones</a></li>
                            
                        {% endif %}
                        <!--Institution manager-->
                        {% if rol == 1 %}
                            <li style="padding-left: 0;"><a href="{% url 'mostrarListadoInstitucion' %}">Gestionar instituciones</a></li>
                        {% endif %}
                        <!--Administrador-->
                        {% if rol == 2 %}
                            <li><a href="{% url 'mostrarGestionUsuarios' %}">Gestionar usuarios</a></li>
                            <li><a href="{% url 'mostrarGestionInsti' %}">Gestionar instituciones</a></li>
                        {% endif %}
                    </ul>
                </div>
                {% endif %}
                <div class="col-md-9">
                    {% block cuerpo %}


        
        
                       
                    {% endblock cuerpo %}
                </div>

            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Selecciona todos los toggles
                const toggles = document.querySelectorAll('.toggle-password');

                toggles.forEach(toggle => {
                    toggle.addEventListener('click', function() {
                        const input = this.previousElementSibling;
                        if (input && input.type === 'password') {
                            input.type = 'text';
                            this.textContent = 'üôà'; 
                        } else if (input) {
                            input.type = 'password';
                            this.textContent = 'üëÅÔ∏è';
                        }
                    });
                });
            });
        </script>

        {% if messages %}
        {% for message in messages %}
            <script>
            Swal.fire({
                title: "Atenci√≥n",
                text: "{{ message|escapejs }}",
                icon: "{{ message.tags }}",
                background: "#fff",
                color: "#000",
                confirmButtonText: "Aceptar",
                confirmButtonColor: "#000",
                customClass: {
                popup: 'mi-alerta',
                title: 'mi-alerta-titulo',
                confirmButton: 'mi-alerta-boton'
                }
            })
            </script>
        {% endfor %}
        {% endif %}



        {% block js %}
        {% endblock js %}

    </body>
</html>